# MoneyBin Configuration Example
# Copy this file to .env and fill in your actual credentials
#
# This file demonstrates both modern (MONEYBIN_*) and legacy environment variable formats.
# The modern format is recommended for new installations.

# =============================================================================
# MODERN CONFIGURATION FORMAT (Recommended)
# =============================================================================
# Use hierarchical environment variables with MONEYBIN_ prefix
# Format: MONEYBIN_SECTION__FIELD=value

# Application Settings
MONEYBIN_DEBUG=false
MONEYBIN_ENVIRONMENT=development  # development, staging, production

# Profile Configuration
# Set your profile explicitly or leave unset to use the default
# Profile determines where data is stored: data/{profile}/
# MONEYBIN_PROFILE=alice

# Database Configuration
# Note: Paths are profile-aware by default (data/{profile}/moneybin.duckdb)
# Only override if you need a custom location
# MONEYBIN_DATABASE__PATH=data/alice/moneybin.duckdb
# MONEYBIN_DATABASE__BACKUP_PATH=data/alice/backups/
# MONEYBIN_DATABASE__CREATE_DIRS=true

# Plaid API Configuration
# Get these from https://dashboard.plaid.com/team/keys
MONEYBIN_PLAID__CLIENT_ID=your_plaid_client_id_here
MONEYBIN_PLAID__SECRET=your_plaid_secret_here
MONEYBIN_PLAID__ENVIRONMENT=sandbox  # sandbox, development, production
MONEYBIN_PLAID__DAYS_LOOKBACK=365
MONEYBIN_PLAID__BATCH_SIZE=500
MONEYBIN_PLAID__MAX_RETRIES=3
MONEYBIN_PLAID__RETRY_DELAY=1.0

# Data Processing Configuration
# Note: Paths are profile-aware by default (data/{profile}/raw, etc.)
# Only override if you need custom locations
# MONEYBIN_DATA__RAW_DATA_PATH=data/alice/raw
# MONEYBIN_DATA__PROCESSED_DATA_PATH=data/alice/processed
# MONEYBIN_DATA__TEMP_DATA_PATH=data/alice/temp
MONEYBIN_DATA__SAVE_RAW_DATA=true
MONEYBIN_DATA__INCREMENTAL_LOADING=true

# Logging Configuration
# Note: Log path is profile-aware by default (logs/{profile}/moneybin.log)
MONEYBIN_LOGGING__LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
MONEYBIN_LOGGING__LOG_TO_FILE=true
# MONEYBIN_LOGGING__LOG_FILE_PATH=logs/alice/moneybin.log
MONEYBIN_LOGGING__MAX_FILE_SIZE_MB=50
MONEYBIN_LOGGING__BACKUP_COUNT=5

# =============================================================================
# LEGACY CONFIGURATION FORMAT (Maintained for Compatibility)
# =============================================================================
# These variables are still supported but the modern format above is preferred

# Plaid API Configuration (Legacy)
# PLAID_CLIENT_ID=your_plaid_client_id_here
# PLAID_SECRET=your_plaid_secret_here
# PLAID_ENV=sandbox  # sandbox, development, or production

# Database Configuration (Legacy)
# DUCKDB_PATH=data/default/moneybin.duckdb
# DUCKDB_BACKUP_PATH=data/backups/

# Logging Configuration (Legacy)
# LOG_LEVEL=INFO
# LOG_TO_FILE=true
# LOG_FILE_PATH=logs/default/moneybin.log
# LOG_MAX_FILE_SIZE_MB=50
# LOG_BACKUP_COUNT=5
# DEBUG=false

# =============================================================================
# PLAID INSTITUTION ACCESS TOKENS
# =============================================================================
# Add these after linking accounts through Plaid Link
# Format: PLAID_TOKEN_INSTITUTION_NAME=access-token
# Institution names should be uppercase with underscores

# Major Banks
# PLAID_TOKEN_WELLS_FARGO=access-sandbox-xxx
# PLAID_TOKEN_CHASE=access-sandbox-yyy
# PLAID_TOKEN_BANK_OF_AMERICA=access-sandbox-zzz
# PLAID_TOKEN_CAPITAL_ONE=access-sandbox-aaa
# PLAID_TOKEN_CITI=access-sandbox-bbb

# Credit Unions
# PLAID_TOKEN_NAVY_FEDERAL=access-sandbox-ccc
# PLAID_TOKEN_USAA=access-sandbox-ddd

# Investment Accounts
# PLAID_TOKEN_FIDELITY=access-sandbox-eee
# PLAID_TOKEN_SCHWAB=access-sandbox-fff
# PLAID_TOKEN_ETRADE=access-sandbox-ggg
# PLAID_TOKEN_VANGUARD=access-sandbox-hhh

# Credit Cards
# PLAID_TOKEN_AMEX=access-sandbox-iii
# PLAID_TOKEN_DISCOVER=access-sandbox-jjj

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================

# QuickBooks API Configuration (Optional)
# Get these from https://developer.intuit.com/app/developer/myapps
# QUICKBOOKS_CLIENT_ID=your_quickbooks_client_id
# QUICKBOOKS_CLIENT_SECRET=your_quickbooks_client_secret
# QUICKBOOKS_REDIRECT_URI=http://localhost:8080/callback
# QUICKBOOKS_ACCESS_TOKEN=your_access_token
# QUICKBOOKS_REFRESH_TOKEN=your_refresh_token
# QUICKBOOKS_COMPANY_ID=your_company_id

# Security Configuration
# WEBHOOK_SECRET=your_webhook_secret_for_plaid_notifications
# DUCKDB_ENCRYPTION_KEY=your_encryption_key_here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Mode Settings
# MONEYBIN_DEBUG=true
# MONEYBIN_LOGGING__LEVEL=DEBUG

# Test Database (for development)
# MONEYBIN_DATABASE__PATH=data/test/test.duckdb

# Reduced API Limits (for testing)
# MONEYBIN_PLAID__BATCH_SIZE=100
# MONEYBIN_PLAID__DAYS_LOOKBACK=30

# =============================================================================
# CONFIGURATION NOTES
# =============================================================================

# 1. PROFILE-BASED CONFIGURATION:
#    - First run will prompt for your name to create a default profile
#    - Each profile gets isolated data storage: data/{profile}/
#    - Create profile-specific .env files: .env.alice, .env.bob, etc.
#    - Use --profile flag to switch: moneybin --profile=bob sync plaid
#    - Manage defaults with: moneybin config set-default-profile alice

# 2. MODERN vs LEGACY FORMAT:
#    - Modern format (MONEYBIN_*) is recommended for new installations
#    - Legacy format is maintained for backward compatibility
#    - Both formats can be used simultaneously
#    - Modern format takes precedence when both are present

# 3. PLAID ENVIRONMENT SETTINGS:
#    - sandbox: For development and testing (fake data)
#    - development: For development with real data (limited institutions)
#    - production: For production use (all institutions, costs money)

# 4. SECURITY CONSIDERATIONS:
#    - Never commit .env files to version control
#    - Use different credentials for each environment
#    - Rotate credentials regularly
#    - Use encryption for sensitive data at rest

# 5. PATH CONFIGURATION:
#    - Paths are profile-aware by default: data/{profile}/, logs/{profile}/
#    - All paths can be absolute or relative to project root
#    - Directories will be created automatically if they don't exist
#    - Use forward slashes (/) even on Windows - Python handles conversion

# 6. LOGGING LEVELS:
#    - DEBUG: Detailed information for debugging
#    - INFO: General information about program execution
#    - WARNING: Something unexpected happened but program continues
#    - ERROR: Serious problem occurred
#    - CRITICAL: Very serious error occurred

# 7. INCREMENTAL EXTRACTION:
#    - The system automatically tracks extraction metadata in DuckDB
#    - Only new complete days are extracted by default
#    - Use --force flag to override incremental logic when needed
#    - This saves API costs and improves performance
